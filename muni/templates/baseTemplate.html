{% load static %}
{% load sass_tags %}

<!DOCTYPE html>
<html lang="en" dir="{{ layout }}">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Cion admin es super flexible, powerful, clean &amp; modern responsive bootstrap 5 admin template with unlimited possibilities.">
    <meta name="keywords" content="admin template, Cion admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="pixelstrap">
    <link rel="icon" href="{% static 'assets/images/favicon.png' %}" type="image/x-icon">
    <link rel="shortcut icon" href="{% static 'assets/images/favicon.png' %}" type="image/x-icon">

    <title>MUNIX - Solución Digital para Municipios</title>

    <!-- Google font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100;200;300;400;500;600;700;800;900&amp;family=Nunito+Sans:ital,opsz,wght@0,6..12,200;0,6..12,300;0,6..12,400;0,6..12,500;0,6..12,600;0,6..12,700;0,6..12,800;0,6..12,900;0,6..12,1000;1,6..12,200;1,6..12,300;1,6..12,400;1,6..12,500;1,6..12,600;1,6..12,700;1,6..12,800;1,6..12,900;1,6..12,1000&amp;display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/font-awesome.css' %}">
    <!-- ico-font-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/icofont.css' %}">
    <!-- Themify icon-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/themify.css' %}">
    <!-- Flag icon-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/flag-icon.css' %}">
    <!-- Feather icon-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/feather-icon.css' %}">
    <!-- Plugins css start-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/slick.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/slick-theme.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/scrollbar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/animate.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/prism.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/datatables.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/datatable-extension.css' %}">
    {% block css %}  {% endblock %}

    <!-- Bootstrap css-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/bootstrap.css' %}">
    <!-- App css-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}">
    <link id="color" rel="stylesheet" href="{% static 'assets/css/color-1.css' %}" media="screen">
    <!-- Responsive css-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/responsive.css' %}">

    <style>
      :root {
        --theme-default: #2F698F;
        --theme-default_dark: rgb(26, 60, 83);
        --theme-secondary: #FF6150;
        --light-background: rgba(242, 243, 247, 0.7);
        --body-font-color: #2F2F3B;
        --chart-border: #ECF3FA;
        --recent-chart-bg: #FCFCFD;
        --light-bg: #F6F7F9;
        --white: #fff;
        --light2: #F5F6F9;
        --sidebar-border: rgb(65, 39, 36);
        --chart-text-color: rgba(82, 82, 108, 0.8);
        --recent-dashed-border: rgba(82, 82, 108, 0.3);
        --chart-dashed-border: rgba(82, 82, 108, 0.2);
        --chart-progress-light: rgba(82, 82, 108, 0.1);
        --recent-box-bg: #F2F4F7;
        --recent-border: rgba(97, 101, 122, 0.25);
        --course-light-btn: #F2F3F7;
        --course-bg: #F7F7F7;
        --balance-profie-bg: #E0DFEF;
        --view-grid-bg: #ECF3FA80;
        --view-border-marker: #cfcdfc;
        --bs-heading-color: #1F2F3E;
        --fc-button-bg-color: var(--theme-default);
        --fc-button-active-bg-color: var(--theme-default);
        --fc-button-active-border-color: var(--theme-default);
        --fc-button-border-color: var(--theme-default);
        --fc-button-hover-bg-color: var(--theme-default);
        --fc-button-hover-border-color: var(--theme-default);
        --normal: #ECEAF3;
        --normal-shadow: #D9D8E3;
        --normal-mouth: #9795A4;
        --normal-eye: #595861;
        --active: #F8DA69;
        --active-shadow: #F4B555;
        --active-mouth: #F05136;
        --active-eye: #313036;
        --active-tear: #76b5e7;
        --active-shadow-angry: #e94f1d;
      }
      /* Estilo para el sidebar en modo compacto */
      .page-wrapper.compact-sidebar .simplebar-wrapper .simplebar-mask .simplebar-content-wrapper .simplebar-content {
        display: flex;
        flex-direction: column;
        height: 100%;
        background: var(--theme-default) !important;
      }
      .page-wrapper.compact-small .page-body-wrapper div.sidebar-wrapper .sidebar-main .sidebar-links .sidebar-list {
        padding: 20px;
        background-color: var(--theme-default) !important;
      }
      .page-wrapper .sidebar-wrapper .logo-wrapper {
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: var(--theme-default) !important;
      }
      .page-wrapper.compact-small .sidebar-list {
        border-top: 1px solid var(--sidebar-border) !important;
      }
      .page-wrapper.compact-small .page-body-wrapper div.sidebar-wrapper .sidebar-main .sidebar-links .sidebar-list.active {
        background-color: var(--theme-default_dark) !important;
      }

      /* Loader personalizado */
      .loader2 {
        width: 40px;
        aspect-ratio: 1;
        border-radius: 50%;
        background: #f03355;
        clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        animation: l1 2s infinite cubic-bezier(0.3, 1, 0, 1);
        position: fixed;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        z-index: 9999;
      }
      @keyframes l1 {
        33%  {
          border-radius: 0;
          background: #514b82;
          clip-path: polygon(0 0,100% 0,100% 100%,0 100%);
        }
        66%  {
          border-radius: 0;
          background: #ffa516;
          clip-path: polygon(50% 0,50% 0,100% 100%,0 100%);
        }
      }
    </style>
  </head>

  <body>
    <!-- Loader principal -->
    <div class="loader-wrapper">
      <div class="loader"></div>
    </div>


    {% include "components/modal_soporte.html" %}

    
    <!-- Loader secundario (oculto por defecto) -->
    <div id="loader2" class="loader2" style="display:none;"></div>

    <!-- Botón para subir al top -->
    <div class="tap-top"><i data-feather="chevrons-up"></i></div>

    <!-- page-wrapper Start-->
    <div class="page-wrapper" id="pageWrapper">
      <!-- Incluye tu header -->
      {% include 'layout/header.html' %}

      <div class="page-body-wrapper horizontal-menu">
        <!-- Incluye tu sidebar -->

        
        {% include 'layout/sidebar.html' %}

        <div class="page-body">
          {% block sin_breadcumb %}
            {% include 'layout/breadcrumb.html' %}
          {% endblock sin_breadcumb %}

          <!-- Botón de regreso, ejemplo -->
          {% include 'components/boton_regresar.html' with url_regreso=regreso_url %}

          <!-- Contenido de cada página -->
          {% block content %}{% endblock content %}
        </div>

        <!-- Incluye tu footer -->
        {% include 'layout/footer.html' %}
      </div>
    </div>
    <!-- page-wrapper End-->

    <!-- Scripts base -->
    <script src="{% static 'assets/js/jquery.min.js' %}"></script>
    <script src="{% static 'assets/js/bootstrap/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'assets/js/icons/feather-icon/feather.min.js' %}"></script>
    <script src="{% static 'assets/js/icons/feather-icon/feather-icon.js' %}"></script>
    <script src="{% static 'assets/js/scrollbar/simplebar.js' %}"></script>
    <script src="{% static 'assets/js/scrollbar/custom.js' %}"></script>
    <script src="{% static 'assets/js/config.js' %}"></script>
    <script src="{% static 'assets/js/sidebar-menu.js' %}"></script>
    <script src="{% static 'assets/js/slick/slick.min.js' %}"></script>
    <script src="{% static 'assets/js/slick/slick.js' %}"></script>
    <script src="{% static 'assets/js/header-slick.js' %}"></script>
    <script src="{% static 'assets/js/prism/prism.min.js' %}"></script>
    <script src="{% static 'assets/js/clipboard/clipboard.min.js' %}"></script>
    <script src="{% static 'assets/js/custom-card/custom-card.js' %}"></script>
    <script src="{% static 'assets/js/typeahead/handlebars.js' %}"></script>
    <script src="{% static 'assets/js/typeahead/typeahead.bundle.js' %}"></script>
    <script src="{% static 'assets/js/typeahead/typeahead.custom.js' %}"></script>
    <script src="{% static 'assets/js/typeahead-search/handlebars.js' %}"></script>
    <script src="{% static 'assets/js/typeahead-search/typeahead-custom.js' %}"></script>

    <!-- DataTables -->
    <script src="{% static 'assets/js/datatable/datatables/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.buttons.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/jszip.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/buttons.colVis.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/pdfmake.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/vfs_fonts.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.autoFill.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.select.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/buttons.bootstrap4.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/buttons.html5.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/buttons.print.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.bootstrap4.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.responsive.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/responsive.bootstrap4.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.keyTable.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.colReorder.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.fixedHeader.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.rowReorder.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/dataTables.scroller.min.js' %}"></script>
    <script src="{% static 'assets/js/datatable/datatable-extension/custom.js' %}"></script>

    <!-- SweetAlert2 (Toast) -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Script base del tema -->
    <script src="{% static 'assets/js/script.js' %}"></script>

    {% block scriptcontent %}
      <!-- Scripts que quieras inyectar desde otras plantillas -->
    {% endblock %}

    <!-- Lógica para mostrar mensajes Django (toast) con SweetAlert2 -->
    {% if messages %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        {% for message in messages %}
          Swal.fire({
            toast: true,
            position: 'top-end',
            icon: '{{ message.tags }}',  // success, error, warning, info
            title: '{{ message }}',
            showConfirmButton: false,
            timer: 4000,
            timerProgressBar: true
          });
        {% endfor %}
      });
    </script>
    {% endif %}

    <!-- Ejemplo de inicialización DataTable (ajusta según tus necesidades) -->
    <script>
      $(document).ready(function(){
        $("#basic-2").DataTable({
          paging: true,
          lengthMenu: [5, 10, 25, 50, 100],
          pageLength: 10,
          lengthChange: true,
          autoWidth: false,
          searching: true,
          bInfo: true,
          bSort: true,
          order: [[3, 'desc']], // Ajusta si prefieres otro índice de columna
          dom: 'Bfrltip',
          buttons: [
            {
              extend: 'print',
              text: '<i class="icofont icofont-printer"></i>',
              titleAttr: 'Imprimir'
            },
            {
              extend: 'excelHtml5',
              text: '<i class="icofont icofont-file-excel"></i>',
              titleAttr: 'Exportar a Excel'
            },
            {
              extend: 'pdfHtml5',
              text: '<i class="icofont icofont-file-pdf"></i>',
              titleAttr: 'Exportar a PDF'
            }
          ],
          language: {
            sProcessing:     "Procesando...",
            sLengthMenu:     "Mostrar _MENU_ registros",
            sZeroRecords:    "No se encontraron resultados",
            sEmptyTable:     "Ningún dato disponible en esta tabla",
            sInfo:           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
            sInfoEmpty:      "Mostrando registros del 0 al 0 de un total de 0 registros",
            sInfoFiltered:   "(filtrado de un total de _MAX_ registros)",
            sSearch:         "Buscar:",
            sLoadingRecords: "Cargando...",
            oPaginate: {
              sFirst:    "Primero",
              sLast:     "Último",
              sNext:     "Siguiente",
              sPrevious: "Anterior"
            },
            oAria: {
              sSortAscending:  ": Activar para ordenar la columna de manera ascendente",
              sSortDescending: ": Activar para ordenar la columna de manera descendente"
            }
          }
        });
      });
    </script>
  </body>
</html>
